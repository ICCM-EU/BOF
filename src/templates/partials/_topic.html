
<div class="topic">
  <!--
    TODO: Get percentage sent from database
  {% if stage == "voting" %}
  <div class="topic__tally">
    <div class="topic__tally__inner" style="width: 16%"></div>
    <span class="topic__tally__text">16 1⁄4 votes</span>
  </div>
  {% endif %}
  -->

  <div class="topic__detail">
    <h1>{{ topic.name }}</h1>
    <p>{{ topic.description }}</p>
  </div>

  {% if stage == "voting" %}
  <div class="topic__vote">
    <form action="{{ path_for('votesaddpost')}}" method="POST">
      <input type="hidden" name="vote" value="1" />
      <input type="hidden" name="workshopid" value="{{ topic.id }}" />
      <input type="submit" class="btn btn--primary {{topic.fullvote ? 'topic__selected' : ''}}" value="Full vote" {{left_votes == 0 ? 'disabled' : ''}}/>
    <p>{{topic.fullvote ? 'X' : ''}}</p>
    </form>

    <form action="{{ path_for('votesaddpost') }}" method="POST">
      <input type="hidden" name="vote" value="0.25" />
      <input type="hidden" name="workshopid" value="{{ topic.id }}" />
      <input type="submit" class="btn btn--secondary {{topic.quartervote ? 'topic__selected' : ''}}" value="1⁄4 vote" />
      <p>{{topic.quartervote ? 'X' : ''}}</p>
    </form>

    <form action="{{ path_for('votesaddpost') }}" method="POST">
      <input type="hidden" name="vote" value="0.0" />
      <input type="hidden" name="workshopid" value="{{ topic.id }}" />
      <input type="submit" class="btn btn--secondary" value="X" />
    </form>
  </div>
  {% endif %}
</div>
